# AI Stock Prediction System ЁЯУИ

р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Щр╕▓р╕вр╕гр╕▓р╕Др╕▓р╕лр╕╕р╣Йр╕Щр╕Фр╣Йр╕зр╕в AI р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Вр╕бр╣Ар╕Фр╕е Deep Learning р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕зр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ Ensemble Learning р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕│р╕Щр╕▓р╕вр╕гр╕▓р╕Др╕▓р╕лр╕╕р╣Йр╕Щр╕нр╣Ар╕бр╕гр╕┤р╕Бр╕▓р╣Бр╕ер╕░р╣Др╕Чр╕в

## тЬи р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕лр╕ер╕▒р╕Б

- **ЁЯза Multi-Model Architecture**: р╣Гр╕Кр╣Й LSTM р╣Бр╕ер╕░ GRU р╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ XGBoost Ensemble
- **ЁЯУК Multi-Task Learning**: р╕Чр╕│р╕Щр╕▓р╕вр╕Чр╕▒р╣Йр╕Зр╕гр╕▓р╕Др╕▓р╣Бр╕ер╕░р╕Чр╕┤р╕ир╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╣Др╕лр╕зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
- **ЁЯФД Walk-Forward Validation**: р╕гр╕░р╕Ър╕Ъ Mini-Retrain р╕Чр╕╕р╕Б 3 р╕зр╕▒р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│р╕кр╕╣р╕Зр╕кр╕╕р╕Ф
- **ЁЯУ░ Sentiment Analysis**: р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Вр╣Ир╕▓р╕зр╕кр╕▓р╕гр╕Фр╣Йр╕зр╕в FinBERT р╣Бр╕ер╕░ NLP
- **ЁЯМР Multi-Market Support**: р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕╕р╣Йр╕Щр╕нр╣Ар╕бр╕гр╕┤р╕Бр╕▓ (10 р╕Хр╕▒р╕з) р╣Бр╕ер╕░р╕лр╕╕р╣Йр╕Щр╣Др╕Чр╕в (9 р╕Хр╕▒р╕з)
- **ЁЯУ▒ API Integration**: API р╕кр╕│р╕лр╕гр╕▒р╕Ъ Paper Trading р╣Бр╕ер╕░ Mobile App

## ЁЯПЧя╕П р╕кр╕Цр╕▓р╕Ыр╕▒р╕Хр╕вр╕Бр╕гр╕гр╕бр╕гр╕░р╕Ър╕Ъ

### 1. р╣Вр╕бр╣Ар╕Фр╕ер╕лр╕ер╕▒р╕Б
```
ЁЯУК Raw Data (Stock + News + Financial)
    тЖУ
ЁЯФз Data Processing & Technical Indicators  
    тЖУ
ЁЯза LSTM Model тФАтФАтФР
                тФЬтФАтФА ЁЯОп XGBoost Ensemble тЖТ ЁЯУИ Final Predictions
ЁЯза GRU Model  тФАтФАтФШ
```

### 2. р╕Бр╕▓р╕гр╣Др╕лр╕ер╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
- **р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕╕р╣Йр╕Щ**: р╕гр╕▓р╕Др╕▓, р╕Ыр╕гр╕┤р╕бр╕▓р╕У, р╕Хр╕▒р╕зр╕Кр╕╡р╣Йр╕зр╕▒р╕Фр╕Чр╕▓р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Д (19 features)
- **р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╣Ир╕▓р╕зр╕кр╕▓р╕г**: Sentiment Analysis р╕Ир╕▓р╕Бр╕Вр╣Ир╕▓р╕зр╣Ар╕ир╕гр╕йр╕Рр╕Бр╕┤р╕И
- **р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ**: р╕Зр╕Ър╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щр╕гр╕▓р╕вр╣Др╕Хр╕гр╕бр╕▓р╕к, р╕нр╕▒р╕Хр╕гр╕▓р╕кр╣Ир╕зр╕Щр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ

## ЁЯЪА р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### р╕Вр╣Йр╕нр╕Бр╕│р╕лр╕Щр╕Фр╕гр╕░р╕Ър╕Ъ
- Python 3.11+
- CUDA-compatible GPU (р╣Бр╕Щр╕░р╕Щр╕│)
- MySQL Database
- 8GB+ RAM

### 1. Clone Repository
```bash
git clone <repository-url>
cd "AI and API Stock Project"
```

### 2. р╕кр╕гр╣Йр╕▓р╕З Environment
```bash
# р╕кр╕гр╣Йр╕▓р╕З conda environment
conda env create -f environment.yml
conda activate pytorch

# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З TA-Lib (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Technical Indicators)
pip install TA_Lib-0.4.28-cp312-cp312-win_amd64.whl
```

### 3. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Database
```bash
# р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М config.env р╣Гр╕Щ Preproces/
DB_HOST=127.0.0.1
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=TradeMine
DB_PORT=3306
FMP_API_KEY=your_fmp_api_key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key
```

## ЁЯОп р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Бр╕▓р╕гр╣Ар╕Чр╕гр╕Щр╣Вр╕бр╣Ар╕Фр╕е
```bash
# р╣Ар╕Чр╕гр╕Щ LSTM model
cd LSTM_model
python LSTM_model.py

# р╣Ар╕Чр╕гр╕Щ GRU model
cd GRU_Model
python GRU_model.py
```

### р╕Бр╕▓р╕гр╕Чр╕│р╕Щр╕▓р╕вр╕гр╕▓р╕Др╕▓
```bash
# р╕гр╕▒р╕Щр╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Щр╕▓р╕в (р╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕г retrain р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)
cd Preproces
python Autotrainmodel.py
```

### р╕Бр╕▓р╕гр╕гр╕▒р╕Щ API Server
```bash
# Paper Trading API
cd API_Mobile_Web
python API_Papertrade.py

# Node.js Server (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Mobile App)
npm install
node server.js
```

## ЁЯУК р╕лр╕╕р╣Йр╕Щр╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ

### ЁЯЗ║ЁЯЗ╕ р╕лр╕╕р╣Йр╕Щр╕нр╣Ар╕бр╕гр╕┤р╕Бр╕▓ (10 р╕Хр╕▒р╕з)
- **Tech Giants**: AAPL, NVDA, MSFT, AMZN, GOOGL, META
- **Growth Stocks**: TSLA, AVGO, AMD
- **Semiconductor**: TSM

### ЁЯЗ╣ЁЯЗн р╕лр╕╕р╣Йр╕Щр╣Др╕Чр╕в (9 р╕Хр╕▒р╕з)
- **Telecom**: ADVANC, TRUE
- **Tech**: DITTO, INET, INSET, HUMAN
- **Consumer**: JMART
- **Services**: DIF, JAS

## ЁЯФз р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

### 1. р╣Вр╕лр╕бр╕Фр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
- **Prediction-Only**: р╣Гр╕Кр╣Йр╣Вр╕бр╣Ар╕Фр╕ер╕Чр╕╡р╣Ир╣Ар╕Чр╕гр╕Щр╣Бр╕ер╣Йр╕з (р╕Цр╣Йр╕▓ retrain р╕ер╣Ир╕▓р╕кр╕╕р╕Ф < 3 р╕зр╕▒р╕Щ)
- **Retrain Mode**: р╣Ар╕Чр╕гр╕Щр╣Вр╕бр╣Ар╕Фр╕ер╣Гр╕лр╕бр╣Ир╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╣Ир╕▓р╕кр╕╕р╕Ф (р╕Цр╣Йр╕▓ retrain р╕ер╣Ир╕▓р╕кр╕╕р╕Ф тЙе 3 р╕зр╕▒р╕Щ)

### 2. Walk-Forward Validation
- **Mini-Retrain Frequency**: р╕Чр╕╕р╕Б 3 р╕зр╕▒р╕Щр╣Гр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- **Optimal Parameters**: 
  - LSTM: chunk_size=100, units=48-24, lr=1.70e-04
  - GRU: chunk_size=100, units=48-24, lr=1.20e-04

### 3. Ensemble Learning
- **LSTM + GRU**: р╕Чр╕│р╕Щр╕▓р╕вр╕гр╕▓р╕Др╕▓р╣Бр╕ер╕░р╕Чр╕┤р╕ир╕Чр╕▓р╕Зр╣Бр╕вр╕Бр╕Бр╕▒р╕Щ
- **XGBoost**: р╕гр╕зр╕бр╕Ьр╕ер╕Чр╕│р╕Щр╕▓р╕вр╣Бр╕ер╕░р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Др╕╕р╕Ур╕ар╕▓р╕Ю
- **Consistency Rate**: р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╕кр╕нр╕Фр╕Др╕ер╣Йр╕нр╕Зр╕Вр╕нр╕Зр╣Вр╕бр╣Ар╕Фр╕е (~89.5%)

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д

```
AI and API Stock Project/
тФЬтФАтФА ЁЯза LSTM_model/                  # LSTM Neural Network
тФЬтФАтФА ЁЯза GRU_Model/                   # GRU Neural Network  
тФЬтФАтФА ЁЯОп Ensemble_Model/              # XGBoost Ensemble
тФЬтФАтФА ЁЯФз Preproces/                   # Data Processing & Main System
тФВ   тФЬтФАтФА usa/                        # US Stock Data Pipeline
тФВ   тФЬтФАтФА thai/                       # Thai Stock Data Pipeline
тФВ   тФФтФАтФА Autotrainmodel.py          # Main Prediction System
тФЬтФАтФА ЁЯУ▒ API_Mobile_Web/              # API Server & Mobile App
тФЬтФАтФА ЁЯУК All_Auto/                    # Data Collection Automation
тФФтФАтФА ЁЯМР stock_react/                 # React Frontend (Optional)
```

## ЁЯЪи р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З

### 1. Scaler Consistency
- **р╕кр╕│р╕Др╕▒р╕Нр╕бр╕▓р╕Б**: р╕Бр╕▓р╕гр╣Гр╕Кр╣Й scaler р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╕гр╕Зр╕Бр╕▒р╕Щр╕гр╕░р╕лр╕зр╣Ир╕▓р╕З training р╣Бр╕ер╕░ prediction р╕Ир╕░р╕Чр╕│р╣Гр╕лр╣Йр╕гр╕▓р╕Др╕▓р╕Чр╕│р╕Щр╕▓р╕вр╕Ьр╕┤р╕Фр╕бр╕▓р╕Б
- Scaler р╕Цр╕╣р╕Бр╣Ар╕Чр╕гр╕Щр╕Фр╣Йр╕зр╕в `TargetPrice = Close.shift(-1)` (р╕гр╕▓р╕Др╕▓р╕зр╕▒р╕Щр╕Цр╕▒р╕Фр╣Др╕Ы)
- р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й scaler р╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щр╕Ир╕▓р╕Б `ticker_scalers.pkl`

### 2. р╕Бр╕▓р╕г Retrain
- р╕гр╕░р╕Ър╕Ър╕Ир╕░ retrain р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╕Цр╕╢р╕Зр╣Ар╕зр╕ер╕▓
- р╣Др╕Яр╕ер╣М `last_retrain_model.txt` р╣Ар╕Бр╣Зр╕Ър╕зр╕▒р╕Щр╕Чр╕╡р╣И retrain р╕ер╣Ир╕▓р╕кр╕╕р╕Ф
- р╕Бр╕▓р╕г retrain р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓ ~2-4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З (р╕Вр╕╢р╣Йр╕Щр╕нр╕вр╕╣р╣Ир╕Бр╕▒р╕Ъ GPU)

### 3. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░ API
- р╕Хр╣Йр╕нр╕З API keys р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕╕р╣Йр╕Щр╣Бр╕ер╕░р╕Вр╣Ир╕▓р╕зр╕кр╕▓р╕г
- Database р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 1 р╕Ыр╕╡ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Чр╕гр╕Щ
- р╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕зр╕гр╕Чр╕│р╕Чр╕╕р╕Бр╕зр╕▒р╕Щ

## ЁЯУИ р╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

### р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╣Вр╕бр╣Ар╕Фр╕е
- **Direction Accuracy**: ~72% (р╕Чр╕┤р╕ир╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╣Др╕лр╕з)
- **Model Consistency**: ~89.5% (р╕Др╕зр╕▓р╕бр╕кр╕нр╕Фр╕Др╕ер╣Йр╕нр╕Зр╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╣Вр╕бр╣Ар╕Фр╕е)
- **Coverage**: 100% (р╕Др╕гр╕нр╕Ър╕Др╕ер╕╕р╕бр╕лр╕╕р╣Йр╕Щр╕Чр╕╕р╕Бр╕Хр╕▒р╕з)

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Щр╕▓р╕в
```
ЁЯУИ XGBoost Final Predictions:
   AAPL: $205.94 (UP 100.0%)
   NVDA: $189.42 (UP 100.0%) 
   MSFT: $242.02 (UP 100.0%)
   AMZN: $218.53 (UP 100.0%)
   GOOGL: $192.46 (UP 100.0%)
```

## ЁЯЫая╕П р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в
1. **р╕гр╕▓р╕Др╕▓р╕Чр╕│р╕Щр╕▓р╕вр╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤**: р╕Ыр╕Бр╕Хр╕┤р╣Ар╕Бр╕┤р╕Фр╕Ир╕▓р╕Б scaler mismatch тЖТ р╕Хр╣Йр╕нр╕З retrain р╣Вр╕бр╣Ар╕Фр╕е
2. **TensorFlow Warnings**: р╣Ар╕Ыр╣Зр╕Щр╣Ар╕гр╕╖р╣Ир╕нр╕Зр╕Ыр╕Бр╕Хр╕┤ р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
3. **Database Connection Error**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ MySQL р╣Бр╕ер╕░ `config.env`
4. **Missing Dependencies**: р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Хр╕▓р╕б `environment.yml`

### р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣Мр╣Вр╕бр╣Ар╕Фр╕е
python -c "import os; print('LSTM Model:', 'Found' if os.path.exists('LSTM_model/best_hypertuned_model.keras') else 'Missing')"

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ scalers
python -c "import joblib; scalers = joblib.load('LSTM_model/ticker_scalers.pkl'); print('Scalers:', len(scalers))"
```

## ЁЯУЮ р╕Бр╕▓р╕гр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

- **Documentation**: р╕Фр╕╣ `CLAUDE.md` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Ар╕Чр╕Др╕Щр╕┤р╕Д
- **Logs**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М log р╣Гр╕Щ `retrain_logs/` р╣Бр╕ер╕░ `training.log`
- **Issues**: р╕лр╕▓р╕Бр╕Юр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╣Гр╕лр╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ log files р╕Бр╣Ир╕нр╕Щ

## ЁЯУД License

р╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╕Щр╕╡р╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕ир╕╢р╕Бр╕йр╕▓р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕з

---

*ЁЯдЦ Built with TensorFlow, PyTorch, XGBoost, and тЭдя╕П*